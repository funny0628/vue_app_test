<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>倒计时-整点秒杀</title>
</head>
<body>
  <div>
    结束时间:17:49:00 \n qweqweqw
  </div>
  <div class="timeNow">
      
  </div>
  <div class="timeDown">
    <span class="h">1</span> : 
    <span class="m">0</span> : 
    <span class="s">14</span>
  </div>
  <div class="box">
    <span>1111</span> 
    <span>2222</span>
  </div>
  <script>
    // 整点秒杀:倒计时到一个节点结束
    var str = "程序猿帅不帅? \r\n 1.帅 \r\n 2.非常帅 \r\n 3.呵呵";
    // document.getElementsByClassName('box')[0].innerHTML = str

    var str1='aaaaaaa\nbbbbbbb';
    // alert(str1); //不换行  ？？？不知所以然
    // 解决办法：
    // while (str1.indexOf("\\n") >= 0) { var str2 = str1.replace("\\n", " \n "); } 
    // 将\n两边各加一个空格就ok了。
    // alert(str2); //换行



    let time = document.getElementsByClassName('timeNow')[0].innerHTML;
    let timer = setInterval(() => {
      let date = new Date();
      let h = date.getHours();
      let m = date.getMinutes();
      let s = date.getSeconds();
      s++;
      if(s > 59){
        s = 0;
        m++;
      }
      if(m > 59){
        m = 0;
        h++;
      }
      
      h = h < 10 ? '0'+ h : h
      m = m < 10 ? '0'+ m : m
      s = s < 10 ? '0'+ s : s
      // console.log(h + '-' + m + '-' + s);
      document.getElementsByClassName('timeNow')[0].innerHTML = '结当前时间束==' +  h + ':' + m + ':' + s
      if(h == 17 && m == 49 && s == '00'){
        clearInterval(timer)
        alert('活动结束了,期待下次相遇')
      }
    }, 1000);


    // 活动倒计时,到00:00:00结束,活动还有多久结束
    let endTime = 1636017479999;
    let startTime = new Date().getTime();
    let step = endTime - startTime;

    let h = document.getElementsByClassName('h')[0].innerHTML;
    let m = document.getElementsByClassName('m')[0].innerHTML;
    let s = document.getElementsByClassName('s')[0].innerHTML;
    let timer1 = setInterval(() => {
      s--;
      if(s < 0){
        s = 59;
        m--;
      }
      if(m < 0){
        m = 59;
        h--;
      }

      h = +h
      m = +m
      s = +s

      h = h < 10 ? '0'+ h : h
      m = m < 10 ? '0'+ m : m
      s = s < 10 ? '0'+ s : s
      document.getElementsByClassName('h')[0].innerHTML = h;
      document.getElementsByClassName('m')[0].innerHTML = m;
      document.getElementsByClassName('s')[0].innerHTML = s;

      if(h == '00' && m == '00' && s == '00'){
        clearInterval(timer1)
        alert('倒计时结束为0')
      }


      
    }, 1000);


  </script>
  
</body>
</html>